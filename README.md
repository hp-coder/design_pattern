# java design pattern

## Abstract Document

`extensibility, structral`

- 应用
    - 动态属性
    - 树一样的灵活的领域对象结构
    - 低耦合系统
- 特点
    - 属性通过接口定义，但是保存在无状态map中，通过实现对应属性接口的获取数据方法，从对象的属性map中获取对应的属性值
    - 当存在复杂属性时，及某个属性又是由多个属性构成时，也要实现抽象父类和其他单一属性的接口, 复杂属性在保存在实体对象中时，又是由多个单一属性组成，对于实体来说也就是这个复杂属性化简为多个单一属性，也即形成了一个List结构
- 编码
    - 当构造函数只有一个参数时，实际就是一个Function函数（Funtion<Parameter, ObjInstance> constructor）

## Abstract Factory

`gang of four, creational`

- 关联
    - Factory Method
    - Factory Kit
- 特点
    - 面向接口编程
    - 工厂的工厂，继承新产品方便
    - 避免了if-else，switch的麻烦（但还是要决定实例化哪个具体的工厂）
- 编码
    - 定义工厂接口，接口中定义获取实例方法，对应实例工厂实现抽象工厂，实现获取实例方法返回实例的统一父类或接口，使用时根据需要传入对应实例工厂，调用创建实例方法，进而获取对应实例
- 应用
    - 独立的构建产品
    - 需要构建多个族中的某一族产品，而且这几个产品必须在一族中使用，这种模式增强了产品之间的关系 （同时也导致了一族中产品扩展十分困难）
    - 提供一个以接口访问的产品库
    - 动态的获取实例
- 缺点
    - 依赖注入隐藏了本可以在编译期间可发现的异常，导致可能在运行期间出现
    - 同族加产品十分困难，因为都是通过获取产品的接口定义在顶层的工厂接口里的
    - 导致代码变得复杂